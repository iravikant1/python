from selenium import webdriver
from selenium.webdriver.common.by import By
import time

# Start the browser and open WhatsApp Web
driver = webdriver.Chrome()  # Or use webdriver.Firefox()
driver.get('https://web.whatsapp.com/')
print("Please manually log into WhatsApp Web in the opened browser...")

# Wait for user to log in manually and open the group conversation
input("Press Enter after you have logged in and opened the group chat whose numbers you want to copy...")

# Now click group info (Assumes group info is already open, or you can automate the click if needed)
time.sleep(5)  # Wait for WhatsApp to load group info

# Scrape all phone numbers from group
numbers = set()

# WhatsApp shows phone numbers in spans or divs within the group info section.
# This XPath may change; inspect the group info page to find the correct selectors.
members = driver.find_elements(By.XPATH, '//div[contains(@aria-label,"Chat list")]/div//span')

for member in members:
    text = member.text
    # Very basic phone number extraction
    if "+" in text and text.replace("+", "").replace(" ", "").isdigit():
        numbers.add(text)

print("Found phone numbers in group:")
for number in numbers:
    print(number)

driver.quit()
